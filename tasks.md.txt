
 Plano Passo a Passo ‚Äî Constru√ß√£o do MVP (FOCA+)

 Estrutura baseada em arquitetura modular por entidade.  
 Backend: Java 17 + Spring Boot 3  
 Banco de Dados: PostgreSQL em container Docker  
 Frontend: React Native (build containerizado)  
 Infraestrutura: Docker Compose



 üß© Fase 0 ‚Äî Prepara√ß√£o do Reposit√≥rio e Ferramentas

 Tarefa 0.1 ‚Äî Criar reposit√≥rio Git
 In√≠cio: Inicializar reposit√≥rio focabackend.
 Fim: git init e primeiro commit.
 Verifica√ß√£o: Reposit√≥rio limpo e pronto.



 Tarefa 0.2 ‚Äî Criar skeleton do projeto Spring Boot (Maven)
 In√≠cio: Gerar projeto com depend√™ncias:
   springbootstarterweb
   springbootstarterdatajpa
   springbootstartervalidation
   springcloudstarteropenfeign
   postgresql
   lombok
   springdocopenapistarterwebmvcui
 Fim: Projeto compila com mvn clean package.



 Tarefa 0.3 ‚Äî Criar estrutura modular de pacotes
 In√≠cio: Criar pacotes:


com.foca.config
com.foca.modules.users.{database,domain,infra}
com.foca.modules.courses.{database,domain,infra}
com.foca.modules.subjects.{database,domain,infra}
com.foca.modules.studySessions.{database,domain,infra}
com.foca.modules.rewards.{database,domain,infra}
com.foca.exception
com.foca.util


 Fim: Classes placeholder adicionadas e build sem erros.



 ‚öôÔ∏è Fase 1 ‚Äî Configura√ß√£o de Infraestrutura

 Tarefa 1.1 ‚Äî Criar arquivo application.yml
 In√≠cio: Criar src/main/resources/application.yml com:
yaml
spring:
  datasource:
    url: ${POSTGRES_URL}
    username: ${POSTGRES_USER}
    password: ${POSTGRES_PASSWORD}
  jpa:
    hibernate:
      ddlauto: update
    showsql: true
  application:
    name: focabackend
server:
  port: 8080


 Fim: Arquivo commitado e configurado.



 Tarefa 1.2 ‚Äî Criar .env para vari√°veis de ambiente

 In√≠cio: Criar .env com:

  env
  POSTGRES_USER=postgres
  POSTGRES_PASSWORD=postgres
  POSTGRES_DB=db_foca
  DATABASE_PORT=5432
  POSTGRES_URL=jdbc:postgresql://db:5432/db_foca
  
 Fim: Arquivo .env criado na raiz do projeto.



 Tarefa 1.3 ‚Äî Criar dockercompose.yml

 In√≠cio: Criar arquivo com conte√∫do:

  yaml
  services:
    db:
      container_name: database
      image: postgres
      restart: unlessstopped
      ports:
         ${DATABASE_PORT}:5432
      environment:
        POSTGRES_USER: ${POSTGRES_USER}
        POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
        POSTGRES_DB: ${POSTGRES_DB}
      env_file:
         .env

    backend:
      container_name: bcknd
      build: ./Bck/Backendfoca
      ports:
         "8000:8080"
      restart: unlessstopped
      environment:
        POSTGRES_URL: ${POSTGRES_URL}
        POSTGRES_USER: ${POSTGRES_USER}
        POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
        WEBAPI_PORT: "8080"

    frontend:
      container_name: frntd
      build: ./Frt/Mobilefoca
      environment:
        API_URL: "http://bcknd:8080"
      ports:
         "9000:80"
      restart: unlessstopped
  
 Fim: Arquivo criado e testado com docker compose up d.



 üë§ Fase 2 ‚Äî M√≥dulo de Usu√°rios (Users)

 Tarefa 2.1 ‚Äî Criar UserModel

 In√≠cio: Implementar UserModel.java com atributos:

   UUID id
   String name
   String email
   String passwordHash
   UserRole role
 Fim: Classe criada com anota√ß√µes @Entity e @Table(name="users").



 Tarefa 2.2 ‚Äî Criar UserRole enum

 In√≠cio: Enum USER, ADMIN.
 Fim: Enum criado e importado no modelo.



 Tarefa 2.3 ‚Äî Criar UserRepository

 In√≠cio: Interface JpaRepository<UserModel, UUID.
 Fim: M√©todo adicional Optional<UserModel findByEmail(String email).



 Tarefa 2.4 ‚Äî Criar DTOs

 In√≠cio: Criar:

   CreateUserDto com name, email, password.
   UserResponseDto com id, name, email.
 Fim: DTOs prontos.



 Tarefa 2.5 ‚Äî Criar UserMapper

 In√≠cio: Implementar convers√µes toEntity() e toResponse().
 Fim: Mapper criado.



 Tarefa 2.6 ‚Äî Criar InsertUserService

 In√≠cio: Implementar l√≥gica:

   Verifica se email existe
   Criptografa senha com BCrypt
   Salva usu√°rio e retorna UserResponseDto
 Fim: Servi√ßo funcional.



 Tarefa 2.7 ‚Äî Criar CreateUserController

 In√≠cio: Implementar endpoint POST /api/v1/users.
 Fim: Endpoint funcional, persiste usu√°rio no banco.



 üîê Fase 3 ‚Äî Autentica√ß√£o (JWT)

 Tarefa 3.1 ‚Äî Criar entidades e reposit√≥rio de RefreshToken

 In√≠cio: Entidade RefreshTokenModel com tokenHash, user, expiresAt, revoked.
 Fim: Repository implementado.



 Tarefa 3.2 ‚Äî Criar AuthService

 In√≠cio: Implementar:

   Busca usu√°rio por email
   Valida senha com BCrypt
   Gera JWT + Refresh Token
 Fim: Retorna tokens.



 Tarefa 3.3 ‚Äî Criar AuthController

 In√≠cio: Endpoints:

   POST /api/v1/auth/login
   POST /api/v1/auth/refresh
 Fim: Controlador criado.



 Tarefa 3.4 ‚Äî Configurar SecurityConfig

 In√≠cio: Proteger rotas /api/v1/ e permitir /api/v1/auth/.
 Fim: Seguran√ßa configurada.



 üìö Fase 4 ‚Äî M√≥dulo de Cursos (Courses)

 Tarefa 4.1 ‚Äî Criar CourseModel

 In√≠cio: Entidade com:

   UUID id
   UserModel user
   String name
   String level
   String divisionType
   String institution
   LocalDate startDate
   LocalDate expectedEndDate
   String period
 Fim: Classe criada.



 Tarefa 4.2 ‚Äî Criar CourseRepository

 In√≠cio: Interface JpaRepository<CourseModel, UUID.
 Fim: M√©todo findByUserId(UUID userId).



 Tarefa 4.3 ‚Äî Criar DTOs e Mapper

 In√≠cio: DTOs CreateCourseDto, CourseResponseDto, e mapper.
 Fim: Criados.



 Tarefa 4.4 ‚Äî Criar CreateCourseService

 In√≠cio: L√≥gica para vincular curso ao usu√°rio autenticado.
 Fim: Servi√ßo funcional.



 Tarefa 4.5 ‚Äî Criar Controladores

 In√≠cio: Endpoints:

   POST /api/v1/courses
   GET /api/v1/courses
 Fim: Rotas ativas e acess√≠veis.



 üìñ Fase 5 ‚Äî M√≥dulos de Disciplinas e Sess√µes de Estudo

 Tarefa 5.1 ‚Äî Criar SubjectModel e SubjectRepository

 In√≠cio: Entidade com id, course, name, creditInfo.
 Fim: Criados.



 Tarefa 5.2 ‚Äî Criar CreateSubjectService e Controller

 In√≠cio: Endpoint POST /api/v1/courses/{id}/subjects.
 Fim: Servi√ßo e controlador prontos.



 Tarefa 5.3 ‚Äî Criar StudySessionModel e Repository

 In√≠cio: Entidade com:

   user, subject, course
   startTs, endTs
   plannedDuration, actualDuration
   sessionType, focusScore
 Fim: Criado.



 Tarefa 5.4 ‚Äî Criar servi√ßos de Sess√µes

 In√≠cio:

   StartStudySessionService ‚Äî grava in√≠cio.
   CompleteStudySessionService ‚Äî fecha sess√£o e salva dura√ß√£o.
 Fim: Implementados.



 Tarefa 5.5 ‚Äî Criar Controladores

 In√≠cio: Endpoints:

   POST /api/v1/studysessions/start
   POST /api/v1/studysessions/complete
 Fim: Endpoints operacionais.



 üèÖ Fase 6 ‚Äî Recompensas

 Tarefa 6.1 ‚Äî Criar RewardModel e Repository

 In√≠cio: Entidade com user, type, amount, grantedAt.
 Fim: Criado.



 Tarefa 6.2 ‚Äî Criar GrantRewardService

 In√≠cio: Regra simples: se focusScore = X, gera recompensa.
 Fim: Servi√ßo funcional.



 Tarefa 6.3 ‚Äî Criar Scheduler de Recompensas

 In√≠cio: @Scheduled para verificar sess√µes conclu√≠das e conceder recompensas.
 Fim: Agendador ativo.



 üß© Fase 7 ‚Äî OpenAPI e Documenta√ß√£o

 Tarefa 7.1 ‚Äî Configurar SpringDoc

 In√≠cio: Criar SpringDocOpenApiConfig.java e organizar tags por m√≥dulo.
 Fim: Acess√≠vel em /swaggerui.html.



 Tarefa 7.2 ‚Äî Documentar Endpoints

 In√≠cio: Garantir que todos os controladores tenham anota√ß√µes Swagger (@Operation, @Schema).
 Fim: API documentada.



 ü™∂ Fase 8 ‚Äî Logs, Observabilidade e Deploy Local

 Tarefa 8.1 ‚Äî Adicionar Logback configurado

 In√≠cio: Criar logbackspring.xml com formato JSON b√°sico.
 Fim: Logs estruturados vis√≠veis no console.



 Tarefa 8.2 ‚Äî Testar Deploy com Docker Compose

 In√≠cio: Executar:

  bash
  docker compose up build
  
 Fim: Containers sobem; backend acess√≠vel via localhost:8000.



 ‚úÖ Fase 9 ‚Äî Entrega e Backlog

 Tarefa 9.1 ‚Äî Criar arquivo API_USAGE.md

 In√≠cio: Incluir exemplos de uso dos endpoints (curl ou Postman).
 Fim: Documenta√ß√£o criada.



 Tarefa 9.2 ‚Äî Criar backlog de evolu√ß√£o

 In√≠cio: Listar futuras features:

   Push notifications
   M√©tricas de foco
   WebSocket para tempo real
   Analytics e gamifica√ß√£o
 Fim: Backlog pronto.



 üß≠ Orienta√ß√£o ao Estudante

 Execute uma tarefa por vez e fa√ßa commit ap√≥s o t√©rmino.
 Cada tarefa tem in√≠cio e fim claros e impacto isolado.
 Ap√≥s cada entrega, o sistema deve rodar integralmente.
 Priorize legibilidade, modulariza√ß√£o e consist√™ncia de c√≥digo.


 Continua√ß√£o ‚Äî Plano Passo a Passo (FOCA+ MVP)

 üöÄ Fase 10 ‚Äî Integra√ß√£o entre M√≥dulos

 Tarefa 10.1 ‚Äî Vincular Cursos e Usu√°rios
 In√≠cio: Adicionar relacionamento @ManyToOne entre CourseModel e UserModel.
 Fim: Cada curso pertence a um usu√°rio autenticado.
 Verifica√ß√£o: Criar curso via /api/v1/courses vincula corretamente o user_id.



 Tarefa 10.2 ‚Äî Vincular Disciplinas e Cursos
 In√≠cio: Adicionar relacionamento @ManyToOne em SubjectModel para CourseModel.
 Fim: Cada disciplina pertence a um curso.
 Verifica√ß√£o: Endpoint /api/v1/courses/{id}/subjects cria disciplina associada ao curso correto.



 Tarefa 10.3 ‚Äî Vincular Sess√µes de Estudo
 In√≠cio: Adicionar relacionamentos:
   @ManyToOne para UserModel
   @ManyToOne para CourseModel
   @ManyToOne para SubjectModel
 Fim: Sess√£o de estudo registrada corretamente com todas as associa√ß√µes.



 Tarefa 10.4 ‚Äî Vincular Recompensas ao Usu√°rio
 In√≠cio: Adicionar @ManyToOne entre RewardModel e UserModel.
 Fim: Cada recompensa pertence a um usu√°rio espec√≠fico.



 üß† Fase 11 ‚Äî L√≥gica de Neg√≥cio (Melhorias de Fluxo)

 Tarefa 11.1 ‚Äî Definir n√≠veis de dificuldade
 In√≠cio: Adicionar campo difficultyLevel em StudySessionModel (enum: EASY, MEDIUM, HARD).
 Fim: Campo persistido e ajustado na l√≥gica de recompensa.



 Tarefa 11.2 ‚Äî C√°lculo din√¢mico de foco
 In√≠cio: Criar m√©todo auxiliar em StudySessionService para calcular focusScore com base em dura√ß√£o e pausa.
 Fim: Valor salvo automaticamente em complete().



 Tarefa 11.3 ‚Äî Regras de Recompensa mais ricas
 In√≠cio: Expandir GrantRewardService:
   Pontos por foco alto
   B√¥nus por dias consecutivos
 Fim: Regras aplicadas.



 üì° Fase 12 ‚Äî Comunica√ß√£o com Frontend (API Readiness)

 Tarefa 12.1 ‚Äî Ajustar CORS
 In√≠cio: Em CorsConfig.java, permitir origem http://localhost:9000.
 Fim: Frontend pode consumir API localmente sem bloqueio.



 Tarefa 12.2 ‚Äî Adicionar resposta padronizada
 In√≠cio: Criar ApiResponse<T gen√©rica com campos:
   data
   message
   timestamp
 Fim: Todos os controladores retornam esse formato.



 Tarefa 12.3 ‚Äî Configurar Feign Client (para integra√ß√µes futuras)
 In√≠cio: Habilitar @EnableFeignClients e criar exemplo de cliente NotificationClient.
 Fim: Estrutura pronta para integra√ß√µes externas.



 üõ†Ô∏è Fase 13 ‚Äî Configura√ß√µes de Build e Deploy

 Tarefa 13.1 ‚Äî Configurar Dockerfile do backend
 In√≠cio: Criar Dockerfile na pasta do backend:
  dockerfile
  FROM maven:3.9.6eclipsetemurin17 AS build
  WORKDIR /app
  COPY . .
  RUN mvn clean package DskipTests

  FROM eclipsetemurin:17jdk
  COPY from=build /app/target/.jar app.jar
  ENTRYPOINT ["java","jar","/app.jar"]


 Fim: Imagem gera .jar e roda em container.



 Tarefa 13.2 ‚Äî Ajustar dockercompose.yml final

 In√≠cio: Validar comunica√ß√£o entre servi√ßos e volume persistente para o banco.

  yaml
  volumes:
     pgdata:/var/lib/postgresql/data
  
 Fim: Compose atualizado e testado.



 Tarefa 13.3 ‚Äî Adicionar vari√°veis de ambiente seguras

 In√≠cio: Criar .env.production com valores de produ√ß√£o.
 Fim: Sistema l√™ corretamente vari√°veis em deploy.



 ü™∂ Fase 14 ‚Äî Documenta√ß√£o T√©cnica Final

 Tarefa 14.1 ‚Äî Criar README detalhado

 In√≠cio: Adicionar:

   Descri√ß√£o do projeto
   Arquitetura modular
   Instru√ß√µes de build e execu√ß√£o
 Fim: Arquivo pronto para reposit√≥rio principal.



 Tarefa 14.2 ‚Äî Criar ARCHITECTURE.md

 In√≠cio: Descrever:

   Organiza√ß√£o dos m√≥dulos
   Rela√ß√£o entre entidades
   Fluxo de dados da API
 Fim: Documento t√©cnico consolidado.



 Tarefa 14.3 ‚Äî Criar DEPLOY_GUIDE.md

 In√≠cio: Incluir comandos de deploy e rollback via Docker Compose.
 Fim: Guia completo e funcional.



 üß≠ Fase 15 ‚Äî Encerramento e Entrega do MVP

 Tarefa 15.1 ‚Äî Verifica√ß√£o funcional geral

 In√≠cio: Rodar todo o sistema com docker compose up build.
 Fim: Frontend, backend e banco interagem corretamente.



 Tarefa 15.2 ‚Äî Entregar documenta√ß√£o e c√≥digo

 In√≠cio: Enviar c√≥digo, documenta√ß√£o e logs de execu√ß√£o.
 Fim: MVP completo e validado.



 üìò Orienta√ß√µes Finais

 Cada tarefa representa um incremento funcional isolado.
 O aluno deve commitar ao final de cada tarefa.
 O orientador pode testar entre etapas executando docker compose up.
 O MVP estar√° completo e valid√°vel ao final da Fase 15, pronto para integra√ß√£o com o frontend React Native.


 Continua√ß√£o ‚Äî Plano Passo a Passo (FOCA+ MVP)

 üåê Fase 16 ‚Äî Integra√ß√£o com Frontend (React Native)

 Tarefa 16.1 ‚Äî Confirmar rotas e endpoints consumidos pelo app
 In√≠cio: Criar documento api_endpoints.md listando:
   /api/v1/users ‚Üí cadastro e consulta
   /api/v1/auth/login e /api/v1/auth/refresh
   /api/v1/courses
   /api/v1/courses/{id}/subjects
   /api/v1/studysessions/start
   /api/v1/studysessions/complete
   /api/v1/rewards
 Fim: Documento pronto e validado com o frontend.



 Tarefa 16.2 ‚Äî Configurar comunica√ß√£o entre containers
 In√≠cio: Confirmar que o frontend usa API_URL=http://bcknd:8080.
 Fim: Frontend acessa backend via nome do container (bcknd) no Compose network.



 Tarefa 16.3 ‚Äî Validar fluxo de autentica√ß√£o
 In√≠cio: Executar login pelo app mobile.
 Fim: Tokens JWT e Refresh Token retornam e persistem corretamente no app.



 Tarefa 16.4 ‚Äî Validar persist√™ncia e exibi√ß√£o de cursos
 In√≠cio: Criar curso no app e verificar via GET /api/v1/courses.
 Fim: Cursos aparecem na interface do app.



 Tarefa 16.5 ‚Äî Validar sess√µes de estudo
 In√≠cio: Iniciar e concluir uma sess√£o pelo app, registrar tempo e foco.
 Fim: Sess√£o registrada e foco calculado.



 Tarefa 16.6 ‚Äî Validar recompensas
 In√≠cio: Completar sess√£o com alta pontua√ß√£o de foco.
 Fim: Recompensa gerada e listada via /api/v1/rewards.



 üß± Fase 17 ‚Äî Refino e Modulariza√ß√£o Avan√ßada

 Tarefa 17.1 ‚Äî Criar camada de exce√ß√µes globais
 In√≠cio: Implementar GlobalExceptionHandler para capturar:
   EntityNotFoundException
   IllegalArgumentException
   MethodArgumentNotValidException
 Fim: Respostas padronizadas para erros de valida√ß√£o e regra de neg√≥cio.



 Tarefa 17.2 ‚Äî Criar utilit√°rio gen√©rico de resposta
 In√≠cio: Implementar ApiResponse<T:
  java
  public record ApiResponse<T(T data, String message, Instant timestamp) {}


 Fim: Todos os controladores usam ApiResponse no retorno.



 Tarefa 17.3 ‚Äî Adicionar ResponseEntityFactory

 In√≠cio: Classe auxiliar para gerar respostas padronizadas (ok, created, error).
 Fim: Controladores simplificados.



 Tarefa 17.4 ‚Äî Modularizar pacotes de DTOs e Mappers

 In√≠cio: Reorganizar estrutura:

  
  domain/
   ‚îú‚îÄ dtos/
   ‚îÇ   ‚îú‚îÄ request/
   ‚îÇ   ‚îî‚îÄ response/
   ‚îî‚îÄ mappers/
  
 Fim: Padr√£o aplicado a todos os m√≥dulos.



 Tarefa 17.5 ‚Äî Adicionar logs por m√≥dulo

 In√≠cio: Incluir @Slf4j em servi√ßos principais (Users, Auth, Courses).
 Fim: Logs gerados por m√≥dulo com prefixo ([USERS], [AUTH]).



 ‚ö° Fase 18 ‚Äî Monitoramento e Sa√∫de do Sistema

 Tarefa 18.1 ‚Äî Habilitar endpoint de sa√∫de

 In√≠cio: Adicionar springbootstarteractuator.
 Fim: Endpoint /actuator/health ativo.



 Tarefa 18.2 ‚Äî Adicionar m√©tricas b√°sicas

 In√≠cio: Habilitar /actuator/metrics e /actuator/info.
 Fim: M√©tricas acess√≠veis.



 Tarefa 18.3 ‚Äî Criar endpoint /api/v1/status

 In√≠cio: Endpoint que retorna uptime, vers√£o e ambiente.
 Fim: Dispon√≠vel para verifica√ß√µes r√°pidas.



 üß∞ Fase 19 ‚Äî Prepara√ß√£o para Escalabilidade

 Tarefa 19.1 ‚Äî Configurar vari√°veis de ambiente din√¢micas

 In√≠cio: Adaptar application.yml para ler WEBAPI_PORT, POSTGRES_URL, etc.
 Fim: Sistema configur√°vel via .env.



 Tarefa 19.2 ‚Äî Criar perfil prod no application.yml

 In√≠cio: Adicionar perfil com:

   logging.level.root=INFO
   ddlauto=none
 Fim: Configura√ß√£o separada para produ√ß√£o.



 Tarefa 19.3 ‚Äî Adicionar cache de consultas simples

 In√≠cio: Habilitar @EnableCaching e cache b√°sico em CourseRepository.
 Fim: Cache funcional.



 Tarefa 19.4 ‚Äî Implementar limite de requisi√ß√µes

 In√≠cio: Adicionar interceptor para limitar requisi√ß√µes por IP.
 Fim: Prote√ß√£o simples de taxa implementada.



 üßæ Fase 20 ‚Äî Empacotamento e Publica√ß√£o

 Tarefa 20.1 ‚Äî Gerar build final do backend

 In√≠cio: Executar mvn clean package DskipTests.
 Fim: .jar gerado em /target/app.jar.



 Tarefa 20.2 ‚Äî Criar imagem Docker final

 In√≠cio: Executar:

  bash
  docker build t focabackend:latest .
  
 Fim: Imagem criada localmente.



 Tarefa 20.3 ‚Äî Testar execu√ß√£o com Docker Compose

 In√≠cio: Subir todos os servi√ßos:

  bash
  docker compose up build
  
 Fim: Containers iniciam e sistema responde em localhost:8000.



 Tarefa 20.4 ‚Äî Documentar deploy

 In√≠cio: Adicionar passos de build/deploy ao DEPLOY_GUIDE.md:

   Build do backend
   Subida de containers
   Vari√°veis de ambiente
 Fim: Guia final completo.



 üß© Fase 21 ‚Äî Encerramento do Projeto MVP

 Tarefa 21.1 ‚Äî Revisar endpoints e documenta√ß√£o

 In√≠cio: Revisar Swagger UI (/swaggerui.html) e garantir coer√™ncia dos nomes.
 Fim: Documenta√ß√£o completa e consistente.



 Tarefa 21.2 ‚Äî Revisar organiza√ß√£o dos m√≥dulos

 In√≠cio: Conferir que cada entidade (users, courses, subjects, studySessions, rewards) tem seus subm√≥dulos:

   database
   domain
   infra
 Fim: Estrutura confirmada e padronizada.



 Tarefa 21.3 ‚Äî Criar snapshot de entrega

 In√≠cio: Criar tag Git v1.0.0MVP.
 Fim: Vers√£o MVP marcada e entregue.



 Tarefa 21.4 ‚Äî Registrar backlog futuro

 In√≠cio: Criar documento BACKLOG_NEXT.md com:

   Gamifica√ß√£o visual
   Ranking global
   Estat√≠sticas de desempenho
   Push notifications e calend√°rio integrado
 Fim: Documento pronto.



 üß≠ Conclus√£o Geral

 O MVP resultante √© modular, containerizado e aut√¥nomo.
 Cada m√≥dulo pode ser mantido ou expandido independentemente.
 O uso de Docker Compose garante que todo o ambiente (DB, backend e frontend) seja iniciado com um √∫nico comando.
 A arquitetura suporta crescimento natural para microservi√ßos ou integra√ß√£o futura com notifica√ß√µes e dashboards anal√≠ticos.




 Continua√ß√£o ‚Äî Plano Passo a Passo (FOCA+ MVP)

 üå± Fase 22 ‚Äî Refinamentos T√©cnicos e Melhoria Cont√≠nua

 Tarefa 22.1 ‚Äî Padronizar nomenclaturas e conven√ß√µes
 In√≠cio: Revisar todos os pacotes e classes:
   Pacotes em lowercase
   Classes e entidades em PascalCase
   Vari√°veis em camelCase
 Fim: Conven√ß√µes padronizadas para todo o c√≥digo base.



 Tarefa 22.2 ‚Äî Criar arquivo .editorconfig
 In√≠cio: Adicionar configura√ß√µes globais para formata√ß√£o:
  ini
  [.java]
  indent_style = space
  indent_size = 4
  insert_final_newline = true
  charset = utf8
  trim_trailing_whitespace = true


 Fim: Projeto mant√©m formata√ß√£o consistente entre desenvolvedores.



 Tarefa 22.3 ‚Äî Configurar Lombok globalmente

 In√≠cio: Garantir uso padronizado de:

   @Data para entidades e DTOs
   @Builder para mapeamentos
   @NoArgsConstructor / @AllArgsConstructor para entidades
 Fim: Lombok aplicado de forma consistente.



 Tarefa 22.4 ‚Äî Adicionar logs significativos

 In√≠cio: Revisar servi√ßos e adicionar:

  java
  log.info("[USERS] User {} created successfully", user.getEmail());
  
 Fim: Logs claros e consistentes em todas as opera√ß√µes CRUD.



 Tarefa 22.5 ‚Äî Implementar DTO gen√©rico de erro

 In√≠cio: Criar ErrorResponse com:

  java
  public record ErrorResponse(String error, String message, Instant timestamp) {}
  
 Fim: Todos os erros seguem formato padronizado.



 üß≠ Fase 23 ‚Äî Otimiza√ß√£o de Performance e Boas Pr√°ticas

 Tarefa 23.1 ‚Äî Habilitar lazy loading nas rela√ß√µes

 In√≠cio: Configurar @ManyToOne(fetch = FetchType.LAZY) em entidades com relacionamentos.
 Fim: Carregamento otimizado e uso de mem√≥ria reduzido.



 Tarefa 23.2 ‚Äî Criar √≠ndices em campos cr√≠ticos

 In√≠cio: Adicionar @Index em campos como email, user_id, course_id.
 Fim: Consultas mais r√°pidas.



 Tarefa 23.3 ‚Äî Ativar cache de segundo n√≠vel

 In√≠cio: Configurar cache b√°sico no application.yml:

  yaml
  spring:
    cache:
      type: simple
  
 Fim: Cache ativado para entidades mais acessadas.



 Tarefa 23.4 ‚Äî Revisar entidades para evitar ciclos de refer√™ncia

 In√≠cio: Usar @JsonIgnore onde necess√°rio (por exemplo, em UserModel.courses).
 Fim: Serializa√ß√£o JSON segura e sem loops.



 üìò Fase 24 ‚Äî Seguran√ßa e Pol√≠ticas de Acesso

 Tarefa 24.1 ‚Äî Configurar perfis de usu√°rio

 In√≠cio: Confirmar que UserRole define USER e ADMIN.
 Fim: Roles integradas ao SecurityConfig.



 Tarefa 24.2 ‚Äî Criar autoriza√ß√£o baseada em roles

 In√≠cio: Adicionar anota√ß√µes:

  java
  @PreAuthorize("hasRole('ADMIN')")
  

  nos endpoints restritos (ex: listagem global de usu√°rios).
 Fim: Permiss√µes aplicadas.



 Tarefa 24.3 ‚Äî Adicionar expira√ß√£o e blacklist de JWT

 In√≠cio: Implementar expira√ß√£o curta para access tokens e persist√™ncia dos refresh tokens.
 Fim: Tokens controlados e seguros.



 Tarefa 24.4 ‚Äî Armazenar senhas com BCrypt

 In√≠cio: Confirmar hashing de senha em InsertUserService:

  java
  user.setPassword(passwordEncoder.encode(dto.password()));
  
 Fim: Senhas salvas de forma segura.



 Tarefa 24.5 ‚Äî Adicionar CORS e headers de seguran√ßa

 In√≠cio: Ajustar CorsConfig para:

   Permitir origens confi√°veis
   Adicionar headers XContentTypeOptions, StrictTransportSecurity
 Fim: Aplica√ß√£o protegida contra ataques comuns.



 üìÑ Fase 25 ‚Äî UX do Painel e Feedback de API

 Tarefa 25.1 ‚Äî Adicionar mensagens de retorno claras

 In√≠cio: Padronizar mensagens no backend:

   ‚ÄúCurso criado com sucesso‚Äù
   ‚ÄúSess√£o conclu√≠da com sucesso‚Äù
 Fim: Feedback consistente no frontend.



 Tarefa 25.2 ‚Äî Implementar endpoint /api/v1/overview

 In√≠cio: Endpoint agregando dados:

   Total de cursos, sess√µes e recompensas
   √öltima atividade
 Fim: Endpoint funcional para dashboard inicial do app.



 Tarefa 25.3 ‚Äî Criar DTO OverviewResponse

 In√≠cio: Classe agregando:

  java
  int totalCourses;
  int totalSubjects;
  int totalSessions;
  int totalRewards;
  
 Fim: DTO pronto e usado no endpoint /overview.



 Tarefa 25.4 ‚Äî Adicionar ranking simples local

 In√≠cio: Endpoint /api/v1/rankings com pontua√ß√£o baseada em n√∫mero de sess√µes e foco m√©dio.
 Fim: Ranking b√°sico funcional.



 üåç Fase 26 ‚Äî Deploy e Publica√ß√£o

 Tarefa 26.1 ‚Äî Configurar dom√≠nio e SSL

 In√≠cio: Preparar proxy reverso (Nginx ou Traefik) com certificado SSL gratuito (Let's Encrypt).
 Fim: Backend acess√≠vel via HTTPS.



 Tarefa 26.2 ‚Äî Publicar imagens no Docker Hub

 In√≠cio: Criar reposit√≥rios:

   foca/backend
   foca/frontend
 Fim: Imagens dispon√≠veis para pull remoto.



 Tarefa 26.3 ‚Äî Automatizar deploy

 In√≠cio: Criar script deploy.sh:

  bash
  docker pull foca/backend:latest
  docker pull foca/frontend:latest
  docker compose up d
  
 Fim: Deploy automatizado.



 Tarefa 26.4 ‚Äî Criar backup autom√°tico do banco

 In√≠cio: Agendar job Docker cron que executa:

  bash
  pg_dump U postgres db_foca  backup.sql
  
 Fim: Backups di√°rios automatizados.



 üßæ Fase 27 ‚Äî Documenta√ß√£o de Produ√ß√£o e Manuten√ß√£o

 Tarefa 27.1 ‚Äî Criar OPERATIONS_GUIDE.md

 In√≠cio: Explicar:

   Rotinas de backup
   Restart de containers
   Logs e troubleshooting
 Fim: Documento pronto para equipe t√©cnica.



 Tarefa 27.2 ‚Äî Criar DEV_GUIDE.md

 In√≠cio: Incluir:

   Setup local
   Padr√µes de c√≥digo
   Conven√ß√µes de commits e branches
 Fim: Guia pronto para novos contribuidores.



 Tarefa 27.3 ‚Äî Criar ROADMAP.md

 In√≠cio: Registrar pr√≥ximos passos:

   Notifica√ß√µes push
   Integra√ß√£o com calend√°rio
   Sistema de desafios di√°rios
 Fim: Documento de vis√£o futura conclu√≠do.



 üß© Fase 28 ‚Äî Conclus√£o Final e Entrega

 Tarefa 28.1 ‚Äî Validar ambiente de produ√ß√£o

 In√≠cio: Executar docker compose up d em ambiente remoto.
 Fim: Backend, frontend e banco em funcionamento.



 Tarefa 28.2 ‚Äî Criar snapshot final

 In√≠cio: Tag final:

  bash
  git tag a v1.0.0MVP m "Entrega FOCA+ MVP"
  git push origin v1.0.0MVP
  
 Fim: Vers√£o oficial registrada.



 Tarefa 28.3 ‚Äî Entregar documenta√ß√£o e c√≥digofonte final

 In√≠cio: Consolidar:

   C√≥digo completo
   Documenta√ß√£o t√©cnica
   Guias de opera√ß√£o e deploy
 Fim: Projeto entregue oficialmente.



 ‚úÖ Resultado Final

Ap√≥s a conclus√£o de todas as fases (0 a 28):

 O FOCA+ MVP est√° operacional e rodando em containers.
 Estrutura modular pronta para escala, manuten√ß√£o e extens√£o.
 O backend comunicase com o frontend mobile via API REST documentada.
 A arquitetura garante clareza e isolamento de responsabilidades ‚Äî ideal para ambiente acad√™mico e pesquisa aplicada.
 O ambiente pode ser iniciado com um √∫nico comando:

  bash
  docker compose up build
  

e agora devo mostrar ao usuario por meio de que url acessar a aplica√ß√£o localmente




